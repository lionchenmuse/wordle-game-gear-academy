# Wordle Game 说明
Wordle是一款引人入胜的猜词游戏，因其简单且令人上瘾的游戏玩法而广受欢迎。游戏的目标是在【有限次数】的尝试内猜出隐藏的单词。
游戏棋盘由【六行】组成，每行允许玩家输入一个单词。输入单词后，玩家会收到反馈，指示隐藏单词中字母的存在以及它们的正确位置。如果某个字母存在但位置错误，它可能会以不同颜色高亮显示或用特定符号标记。玩家利用这些线索来推断正确的字母及其位置。
游戏挑战玩家在有限的时间和尝试次数内用最少的尝试次数猜出单词，增加了游戏的刺激感和悬念。

# Wordle 程序架构
为了提供更吸引人且灵活的游戏体验，将Wordle游戏分解为两个程序。Wordle 程序负责核心功能，如从列表中随机选择一个单词并评估猜测。Game Session 程序则管理用户交互、跟踪游戏状态并强制执行时间限制。这种划分旨在创建一个模块化、灵活的系统，以提升游戏体验。
1. Wordle 程序描述：
- 包含“开始游戏”和“检查单词”功能。
- 程序内部有一个词库，用于在游戏开始时随机选择一个单词 *【为便于测试仅有1个单词：house】*。
- “开始游戏”功能启动游戏并随机选择一个单词。
- “检查单词”功能评估玩家的猜测与隐藏单词的匹配情况，并提供关于正确字母位置的反馈。

2. Game Session 程序描述：
- 管理与Wordle程序的交互并监督游戏玩法。
- 跟踪之前的响应和尝试次数。
- 监控游戏开始后的已用时间，以管理时间限制和事件。

3. 程序间的交互：
- 用户通过向游戏会话程序发送消息来启动游戏。
- 游戏会话程序调用Wordle程序的“开始游戏”功能。
- 用户将猜测提交给游戏会话程序，该程序将其转发给Wordle程序的“检查单词”功能。
- Wordle程序返回关于猜测准确性和字母位置的反馈。
- 游戏会话程序分析结果，跟踪尝试次数和时间。

4. 关键实现方面：
- 游戏会话程序需要机制来存储关于先前动作的数据并跟踪时间。
- 通过数据交换和响应处理与Wordle程序进行高效交互至关重要。

# 程序主要参数
1. 词库：house **（为便于测试，仅有这一个单词）**
2. 可尝试次数：6次
3. 时间限制：100 区块
4. 单词长度：5个字母

# 单元测试
## 测试命令
```bash
cargo t -p game-session
```
## 测试用例
包括以下测试用例：
1. test_init()：测试初始化函数，确保游戏状态正确初始化。
2. test_start_game()：测试开始游戏函数
3. test_guess_word_win()：测试多次发出 GuessWord 事件，中间穿插 StartGame 事件，直到正确猜测单词。
4. test_guess_word_lose()：测试多次发出 GuessWord 事件，中间穿插 StartGame 事件，直到次数耗尽，猜测失败。
5. test_guess_word_failure()：测试不发 StartGame 消息，直接发 GuessWord 消息。
6. test_multi_users_guess_word()：测试多个用户同时进行游戏，直到各自结束游戏。

**注意：**
**单元测试不包括测试时间限制，因 `gtest::System` 的 `spend_blocks()` 方法与延迟消息 `msg::send_delayed()` 方法有冲突。当 `send_delayed()` 方法向合约（无论自身合约或其他合约）发送消息时，`spend_blocks()` 方法会导致 `GasTree` `corrupted`。该问题已在其他合约程序中复现。**

要测试超时功能，可在 `Vara` 测试网中测试，地址如下：
https://idea.gear-tech.io/programs/0xb37ca14150aa81b449397a46bdcb9f73c53c295616debf853317dc0bf621b983?node=wss%3A%2F%2Ftestnet.vara.network

